"use strict";(self.webpackChunkabcjs=self.webpackChunkabcjs||[]).push([[259],{7397:(e,n,s)=>{s.r(n),s.d(n,{data:()=>t});const t={key:"v-fb41e73c",path:"/developers/releasing.html",title:"Releasing",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"To begin a new version:",slug:"to-begin-a-new-version",children:[]},{level:2,title:"To release a new version, this checklist should be followed:",slug:"to-release-a-new-version-this-checklist-should-be-followed",children:[]}],filePathRelative:"developers/releasing.md",git:{updatedTime:1641772778e3,contributors:[{name:"Paul Rosen",email:"paul@paulrosen.net",commits:21}]}}},8093:(e,n,s)=>{s.r(n),s.d(n,{default:()=>f});var t=s(6252);const a=(0,t.uE)('<h1 id="releasing" tabindex="-1"><a class="header-anchor" href="#releasing" aria-hidden="true">#</a> Releasing</h1><div class="custom-container danger"><p class="custom-container-title">Important!</p><p>Note: The following checklist is for committers only!</p><p>For people who want to contribute a pull request, this isn&#39;t relevant!</p></div><div class="custom-container tip"><p class="custom-container-title">Branch</p><p>All new work should be done in the <code>dev</code> branch.</p></div><h2 id="to-begin-a-new-version" tabindex="-1"><a class="header-anchor" href="#to-begin-a-new-version" aria-hidden="true">#</a> To begin a new version:</h2><p>[_] Run the script <code>./start-version.sh ${version}</code>.</p><p>[_] Check in the changed files.</p><h2 id="to-release-a-new-version-this-checklist-should-be-followed" tabindex="-1"><a class="header-anchor" href="#to-release-a-new-version-this-checklist-should-be-followed" aria-hidden="true">#</a> To release a new version, this checklist should be followed:</h2><p>[_] Get all commits since the last release with <code>git log &gt; temp.txt</code>.</p>',8),o=(0,t.Uk)("[_] Add a section to the top of "),l=(0,t.Uk)("the release notes"),i=(0,t.Uk)("."),r=(0,t.Uk)("[_] Be sure "),c=(0,t.Uk)("the read me file"),h=(0,t.Uk)(" is up to date, along with all the files in "),d=(0,t._)("a",{href:"../docs"},"docs",-1),p=(0,t.Uk)("."),u=(0,t.uE)('<p>[_] Create a docker instance with <code>./docker-start.sh</code>.</p><p>[_] Minify the various library versions with <code>npm run build</code>.</p><p>[_] Check the minified versions and other changed files in.</p><p>[_] Merge the <code>dev</code> branch into <code>main</code>.</p><p>[_] Update npm with <code>npm publish</code> or <code>npm publish --tag beta</code>. To do this in docker:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -v <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/srv/app -it abcjs /bin/bash\n<span class="token function">npm</span> login\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>[_] Build docs with <code>npm run docs:build</code>.</p><p>[_] Push the change that npm publish created with <code>git push</code>.</p><p>[_] Push new documentation with <code>./deploy-docs.sh</code>.</p><p>[_] On github, &quot;Draft a new release&quot;.</p><ul><li>Click &quot;releases&quot;.</li><li>Click &quot;draft a new release&quot;</li><li>The tag should be the release number (i.e. &quot;3.0.0&quot;)</li><li>The title should be &quot;Version 3.0.0 release&quot;</li><li>The description should be a couple sentences about what the release is.</li></ul><p>[_] Add the binary to https://github.com/paulrosen/historical-abcjs-versions.</p><p>[_] Read through all the issues to see if any should be closed.</p><p>[_] Update https://abcjs.net.</p>',14),b=(0,t.Uk)("[_] Release a new version of the "),k={href:"https://wordpress.org/plugins/abc-notation/",target:"_blank",rel:"noopener noreferrer"},g=(0,t.Uk)("WordPress plugin"),v=(0,t.Uk)("."),m=(0,t._)("ul",null,[(0,t._)("li",null,[(0,t.Uk)("Repo at: "),(0,t._)("code",null,"svn checkout https://plugins.svn.wordpress.org/abc-notation/")]),(0,t._)("li",null,[(0,t.Uk)("Make changes in "),(0,t._)("code",null,"/trunk")]),(0,t._)("li",null,[(0,t.Uk)('When ready to release, make tag with right-click trunk, subversion => Branch or Tag, then pick "any location" and change the location to '),(0,t._)("code",null,".../tags/x.x.x"),(0,t.Uk)(" with the version number.")]),(0,t._)("li",null,"check in all changed files.")],-1),w={},f=(0,s(3744).Z)(w,[["render",function(e,n){const s=(0,t.up)("RouterLink"),w=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[a,(0,t._)("p",null,[o,(0,t.Wm)(s,{to:"/RELEASE.html"},{default:(0,t.w5)((()=>[l])),_:1}),i]),(0,t._)("p",null,[r,(0,t.Wm)(s,{to:"/"},{default:(0,t.w5)((()=>[c])),_:1}),h,d,p]),u,(0,t._)("p",null,[b,(0,t._)("a",k,[g,(0,t.Wm)(w)]),v]),m],64)}]])}}]);